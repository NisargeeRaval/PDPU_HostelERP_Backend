<style>
  .bg-custom {
    background-color: #ff8600 !important;
  }
</style>

<nav class="navbar navbar-expand-lg navbar-dark bg-custom">
  <div class="container">
    <a class="navbar-brand" href="/parents/dashboard">Hostel ERP Parents</a>
    <div class="ml-auto">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/student/viewAttendance">View Attendance</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" id="logoutButton" onclick="logout()">Logout</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/parents/profile" id="logoutButton">Profile</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<script>
  async function logout() {
    try {
      const result = await fetch('/user/api/logout', {
        method: 'GET'
      });

      if (result.status === 200) {
        localStorage.removeItem('token');
        window.location.replace('/user/login');
      } else {
        localStorage.removeItem('token');
        window.location.replace('/user/login');
      }
    } catch (error) {
      const queryString = `?headingMessage=${encodeURIComponent('Something went wrong')}&paragraphMessage=${encodeURIComponent('Error while logout! Please login and logout again.')}&newRoute=${encodeURIComponent('/user/login')}`;

      window.location.href = '/response/error' + queryString;
    }
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>